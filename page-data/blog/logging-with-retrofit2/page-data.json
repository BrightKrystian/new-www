{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/logging-with-retrofit2","result":{"data":{"markdownRemark":{"html":"<p>Retrofit has been updated to 2.0 version.<br/>\nIt's a major change in the one of the most popular library for Android platform.</br>\nA lot of things have been changed out there but in this blog post I want to cover how to setup logging properly.</p>\n<h1>Retrofit 1.x - old way</h1>\n<p>In Retrofit 1.x we just call:</p>\n<pre><code class=\"language-java\">    adapter.setLogLevel(RestAdapter.LogLevel.FULL)\n</code></pre>\n<h1>Retrofit 2.x - new way</h1>\n<p>In Retrofit 2 you should use <a href=\"https://github.com/square/okhttp/blob/master/okhttp-logging-interceptor/src/main/java/com/squareup/okhttp/logging/HttpLoggingInterceptor.java\">HttpLoggingInterceptor</a>.</p>\n<p>Add dependency to <code>build.gradle</code>:</p>\n<pre><code class=\"language-groovy\">compile 'com.squareup.okhttp:logging-interceptor:2.6.0'\n</code></pre>\n<p>Create <code>Retrofit</code> object like follow:</p>\n<pre><code class=\"language-java\">    OkHttpClient client = new OkHttpClient();\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    client.interceptors().add(interceptor);\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(\"https://backend.example.com\")\n            .client(client)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n\n\n    return retrofit.create(ApiClient.class);\n</code></pre>\n<p><code>RetrofitAdapter</code> doesn't exsist any longer, we have <code>Retrofit</code> class instead. <br/>\nThe big change is that <a href=\"http://square.github.io/okhttp/\">OkHttp</a> is required now and set as dependency for Retrofit.<br/>\nThe instance of <code>OkHttpClient</code> is the place where you should set up logging.</p>\n<p>Retrofit has a dependency to OkHttp version 2.5.0, but I've tested it with LoggingIntenceptor version 2.6.0 and it works well.</p>\n<p>It should print logs similar to the old ones from Retrofit 1.x.<br />\nHope it helps you :)</p>\n<p>See this post on my <a href=\"http://mklimek.github.io/logging-with-retrofit2/\">personal blog</a>.</p>","excerpt":"Retrofit has been updated to 2.0 version.\nIt's a major change in the one of the most popular library for Android platform.\nA lot of thingsâ€¦","frontmatter":{"slug":null,"title":"Logging with Retrofit 2","description":null,"author":"mateuszklimek","tags":["android"],"date":"2015-12-14T23:00:00.000Z","image":null},"timeToRead":1,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2015-12-15-logging-with-retrofit2.md"},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2015-12-15-logging-with-retrofit2.md"}},"staticQueryHashes":["2189233960","3181594896"]}