{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/android-koin","result":{"data":{"markdownRemark":{"html":"<p>In Android injecting parameters, managing component's lifecycle and creating various scopes is difficult and crucial, but fortunately, we've got <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\">DI (Dependency Injection)</a> technique for the rescue.</p>\n<p align=\"center\">\n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/eea4a/android_photo.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGQAAAQUAAAAAAAAAAAAAAAAAAAECAwQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQP/2gAMAwEAAhADEAAAAYxXzMoqlH//xAAcEAABAwUAAAAAAAAAAAAAAAABAAMyAgQSEzP/2gAIAQEAAQUCbk5kKdgQlccF/8QAFhEAAwAAAAAAAAAAAAAAAAAAEBEh/9oACAEDAQE/AVR//8QAFxEBAAMAAAAAAAAAAAAAAAAAAQIQEf/aAAgBAgEBPwGK7X//xAAaEAACAgMAAAAAAAAAAAAAAAAAAREhAhAS/9oACAEBAAY/AoaR1SSLkRlr/8QAGxAAAgIDAQAAAAAAAAAAAAAAETEAARAhUaH/2gAIAQEAAT8hrqmKl7wcBw6FPFkf/9oADAMBAAIAAwAAABDLD//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxA0Z//EABYRAQEBAAAAAAAAAAAAAAAAABEBEP/aAAgBAgEBPxBCOf/EAB0QAQABAwUAAAAAAAAAAAAAAAEAETGxIUFRYaH/2gAIAQEAAT8QLShCKL7xhGrBVXmLFV0Sk8rMwMkbz//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"android photo\" title=\"android photo\" src=\"/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/1c72d/android_photo.jpg\" srcset=\"/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/a80bd/android_photo.jpg 148w,\n/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/1c91a/android_photo.jpg 295w,\n/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/1c72d/android_photo.jpg 590w,\n/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/a8a14/android_photo.jpg 885w,\n/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/fbd2c/android_photo.jpg 1180w,\n/static/4d83ee7adc6beed8caa3b1f8e10ce1ce/eea4a/android_photo.jpg 1280w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n</p>\n<p>Right now the most known Android DI tool is Dagger 2 maintained by Google. We have been using it in many projects. It's great, but lately the other player has showed up. Let's talk about Koin!</p>\n<p>Nowadays writing Android Application in Kotlin is getting more and more popular, hence new libraries are showing up! Koin is a 'pragmatic lightweight dependency injection' <a href=\"https://en.wikipedia.org/wiki/Domain-specific_language\">dsl (Domain-Specific language)</a> Kotlin framework. It's not based on reflection and code generation either. The way it works is different than Dagger and it could be described as a <a href=\"https://en.wikipedia.org/wiki/Service_locator_pattern\">service locator</a>. It’s regarded as an anti-pattern, but in my opinion it depends on the job it needs to do. With this tool you can easily create modules, inject dependencies and manage Android components lifecycles or scopes. It could be useful when method count, build speed and a size of your APK matters due to not generating code. </p>\n<h4>Core features:</h4>\n<ul>\n<li>Creating modules, submodules consisting of singleton and factory providers</li>\n<li>Creating session scopes managed wherever you want in your code</li>\n<li>Creating global named properties</li>\n<li>Binding to component's lifecycle</li>\n<li>Android Architecture Component support</li>\n</ul>\n<h2>Let's see few lines of code</h2>\n<p>Class providing us with current weather</p>\n<pre><code>  class WeatherProvider {\n    fun getCurrentWeather(): String {\n      return \"It's sunny! As always in this beautiful city of Gdańsk!”\n    }\n  }\n</code></pre>\n<p>Weather module creation with single instance of <code>WeatherProvider</code>:</p>\n<pre><code>  val weatherModule = {\n    single { WeatherProvider() }\n  }\n</code></pre>\n<p>Initialize Koin:</p>\n<pre><code>  startKoin(listOf(weatherModule))\n</code></pre>\n<p>Now we can use our <code>WeatherProvider</code> wherever we want by injecting it in this way:</p>\n<pre><code>  val weatherProvider: WeatherProvider by inject()\n</code></pre>\n<p>And that's it! The <code>WeatherProvider</code> singleton is ready to use.</p>\n<p>You can also bind <code>WeatherProvider</code> per Activity which will depend on its lifecycle or create a special scope for your needs opened and closed whenever you want.</p>\n<p>For more information visit official <a href=\"https://insert-koin.io/docs/1.0/getting-started/introduction/\">Getting Started</a> section.</p>\n<h2>Summary</h2>\n<p>Koin has a great Kotlin feeling, dsl syntax, no annotations, no boilerplate and is pretty easy to implement. The other important thing are - errors. Koin provides us with clean and reasonable error logs. If you make a mistake in your implementation it's really effortless to localize and fix a problem. You can even bind your own logger to it while initializing.\nNevertheless there are few concerns. Would it be causing headaches for large teams due to resolving what is injected where? Will a performance extremely decrease with the increasing quantity of dependencies? I guess we need to find out!</p>","excerpt":"In Android injecting parameters, managing component's lifecycle and creating various scopes is difficult and crucial, but fortunately, we've…","frontmatter":{"slug":null,"title":"Android - Koin DI","description":null,"author":"szymek","tags":["blog","android","koin","DI","dagger","mobiledev","mobile"],"date":"2019-03-20T23:00:00.000Z","image":null},"timeToRead":2,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2019-03-21-android-koin.md"},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2019-03-21-android-koin.md"}},"staticQueryHashes":["2189233960","3181594896"]}