{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/tabs-navigation-pattern","result":{"data":{"markdownRemark":{"html":"<p>Proper content organisation in your Android application may be achieved with a wide range of layouts and widgets. Today I'd like to focus on tabs that is what kind of components are dedicated to using tabs in an application, what are the key principles in using them and how to customize their view.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37a678b80c2a974c1a6bf72653a45a53/4b190/folder_tabs.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.351351351351354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBP/EABYBAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAB10NE4B//xAAYEAADAQEAAAAAAAAAAAAAAAAAAQITA//aAAgBAQABBQJ9bZpZrZ//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BiIj/xAAWEAEBAQAAAAAAAAAAAAAAAAAAMjH/2gAIAQEABj8C1Sn/xAAZEAACAwEAAAAAAAAAAAAAAAAAYQERIXH/2gAIAQEAAT8hhKxwcHj/2gAMAwEAAgADAAAAEAQv/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/ELqP/8QAFREBAQAAAAAAAAAAAAAAAAAAAGH/2gAIAQIBAT8Qkk//xAAZEAEAAgMAAAAAAAAAAAAAAAABABFBgcH/2gAIAQEAAT8Qb7QpiaY438Cf/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Folder Tabs Img\"\n        title=\"Folder Tabs Img\"\n        src=\"/static/37a678b80c2a974c1a6bf72653a45a53/1c72d/folder_tabs.jpg\"\n        srcset=\"/static/37a678b80c2a974c1a6bf72653a45a53/a80bd/folder_tabs.jpg 148w,\n/static/37a678b80c2a974c1a6bf72653a45a53/1c91a/folder_tabs.jpg 295w,\n/static/37a678b80c2a974c1a6bf72653a45a53/1c72d/folder_tabs.jpg 590w,\n/static/37a678b80c2a974c1a6bf72653a45a53/4b190/folder_tabs.jpg 800w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Basic concept</h2>\n<p>Tabs are the pattern common and simple, it exceeds mobile or web apps design. To avoid overusing it though we need some clarification about its usage.   </p>\n<p><strong>What is it for?</strong><br>\nThe key feature is to make a user aware of alternate views and give the ability to frequent switching between them. It may help to organize data sets (music > rock, pop, jazz, swing) or views with similar aspect (music > all, recent, recommended).   </p>\n<p><strong>What is it NOT for?</strong><br>\nApps with a deep navigation structure or apps with a single core functionality. It might not be easy to classify the application like that, but it won't fit in most cases.</p>\n<p>If we start to design a tab layout, first let's define some principles that we will follow. It might be important to say it before starting the implementation and keep it in mind.   </p>\n<blockquote>\n<p>Each tab should be equally important</p>\n</blockquote>\n<p>Sometimes it might be a little confusing, but try to bring it to the basics. There's a little example:<br>\nGood usage: Horrors, Comedies, Thrillers, Drama<br>\nBad usage: Blog, Store, Contact Us, About   </p>\n<blockquote>\n<p>Follow layout principles</p>\n</blockquote>\n<p>Even if we are going to customize our view, there are some points that we'll never break. I know you might disagree with some, but in my opinion, these are what keeps the layout clear and understandable for the user. First of all, present tabs as a single row, either horizontal or vertical. Secondly, always highlight a selected tab, so the users know where they are in the app. Thirdly, do not nest the tabs. Fourthly, adjust a tab name or view to its content, so to the photos section lead tab with a name \"photos\", not e.g. \"recording\".   </p>\n<blockquote>\n<p>Keep consistent design of the tabs</p>\n</blockquote>\n<p>It may be problematic in two cases. The one is the size of the tab, which should be similar to each one. You should be avoiding long descriptions in the tab because it is easier to adjust a size of one-word tabs to each other. The second one is if you decide to use something more than text tabs, like with images, for example, you should keep the pattern for each one and do not combine image tabs with text tabs. It brings unnecessary mess.</p>\n<p>The concept above should be pretty general and mostly applies not only to Android apps. From now on let's write some code! And this is going to be very Android-specific!</p>\n<h2>Default usage</h2>\n<p>First, for using <code>android.support.design.widget.TabLayout</code> add design support dependency to <code>build.gradle</code>:   </p>\n<pre><code>compile 'com.android.support:design:__NEWEST_VERSION_HERE__'\n</code></pre>\n<p>Then we can define TabLayout into layout XML. The very basic usage of TabLayout is to use it as any other view container:   </p>\n<pre><code class=\"language-xml\">&#x3C;android.support.design.widget.TabLayout\n        android:id=\"@+id/myTabLayout\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\">\n\n        &#x3C;android.support.design.widget.TabItem\n            android:text=\"DOGS\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"wrap_content\" />\n\n        &#x3C;android.support.design.widget.TabItem\n            android:text=\"CATS\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"wrap_content\" />\n\n    &#x3C;/android.support.design.widget.TabLayout>\n</code></pre>\n<p>Mind that only TabItem instances can be added to TabLayout.</p>\n<p>Then, to take some actions when the tab is selected, we have to add a listener to out tab layout:</p>\n<pre><code class=\"language-kotlin\">myTabLayout.addOnTabSelectedListener( object : TabLayout.OnTabSelectedListener{\n            override fun onTabReselected(tab: TabLayout.Tab?) {}\n\n            override fun onTabUnselected(tab: TabLayout.Tab?){}\n\n            override fun onTabSelected(tab: TabLayout.Tab?) {\n                Toast.makeText(applicationContext,tab!!.text,Toast.LENGTH_SHORT).show()\n            }\n\n        })\n</code></pre>\n<p>in <code>onTabSelected</code> method we have an access to the selected tab and all its view elements, like e.g. text. Very useful is especially a <code>position</code> field, which can be used as an index to a different container or as a reference to another view.</p>\n<h4>Adding tabs programmatically</h4>\n<p>To add tabs programmatically instead of defining it into xml simply use <code>addTab()</code> method. To add tab with single text simply define it like that:</p>\n<pre><code class=\"language-kotlin\">val tab = myTabLayout.newTab()\ntab.text = \"DOGS\"\nmyTabLayout.addTab(tab)\n</code></pre>\n<h4>Custom Tab view</h4>\n<p>The fun part is to finally add some more interesting view of our tabs instead of using only text. Let's combine the text with some nice images! Like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 94px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1260028891088ffebe4eb7582c01c0a0/37939/tab.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 122.34042553191489%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADy0lEQVQ4y42U61MaVxjG999rZjLTdprSYQQkchUEWeXqNtld9g7oTAQh2BiTNrR21ElSLXHa0pGaEpP6RTuObUyJSAAbElYuGoZlTwdOszVNZtrnw5n37Ly/9zz7ngvC9cWyLEEQy8vL1WoVvClZluFYKpVSqRSO49xrIRzH8TzPMMzm5ibMliSp2+3CGAZSV+525X7QzWR+pCiK5/kezPN8MBjc2toCALx48bImimdXAwAs3bnLspwQnvzjaQFWzGazJEkKgoDgOL6ysgIAOCw+iyavPSuVIQbX/OnBQ7fNmsDQoO2ia2z8Xma9fHQEAFhYWCBJEpmamqrX6wCA+VtfHRQOobee76582m4zLHf1kgc1GxIYGvc7zRfe9316GQBQqZR7ttfW1gAAx8f1uc9TsixLkqQYLj+v4gHfpMdh1OlivhGfQWvR67L3c9D84uIiks/n4eTml18/6ce1euNx/uDX337/PrthstqGNBpm1OqxGm4t3SlWjpQu7uzsIJ1OB65zUDiMz924mVoIeL0+p91rs/gthohnZGbCFffaXXab2GhBUzC/Wq0iZ7ckcW3eYxycJ71zpPc64bmOu69i6EzAGXUPoyP2Wr2h/BEAoNPpIMpZAACEQ+HZy+4b9MR80P8Z7oljaAJzxQPOabcV7a3cPAtLkoT02tqf7z8tBMZcX9ATkx7HJZuBd5qm3TZqxDTltk+PW4bN5uPXMMwXRREplUqwUiyRvOIbDXtHaU64vZq+EouTOK7RG7Bhw6TLpNIMNlqts0dgb28PyWazAIDmySuawLERq85kLf/5XOnCfqE4brN4hwbOf6JpnbwBr66uIjMzM+12uysDnhMsgzrM72+9aitwvXXqdjouqj7SDxkbrRPluyiKkUikdzw3NjYAAJFIxKRRawc09x88hP3oeXuSNw+o9R9/eO69c9mfc7DJAIB0Ok0QRO9WURRVqVSWbt+1DNv0BvO9735Q4OrLmsuFGocM5z+48M23adid7e1tkiR5nu/dKpqmI5HI4/39dkeqN1uSJMlyV9mSRqtVrYm142Opb3h3d5ftqwfD+0zTNMdxvzx6pNzkt9+DdrudyWQoioLk348B5FmWxXE8kUjkcrlyuXx6egqxZrNZLBbX19ej0ShBEHxf/7wkigRBoGkax3Ge52Ox2OzsbDKZjMVisC5N0wr2DhhaCIVCTF8URcER1uXe0r9hlmVDoRCKonq93m63m/rCMEwQBJZl/xfscDhUKpXRaNRqtWq1emxsLBwO/zcMxTAMy7JwpGmaYZh3pv0FkGX3qCJpN/0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"single tab\"\n        title=\"single tab\"\n        src=\"/static/1260028891088ffebe4eb7582c01c0a0/37939/tab.png\"\n        srcset=\"/static/1260028891088ffebe4eb7582c01c0a0/37939/tab.png 94w\"\n        sizes=\"(max-width: 94px) 100vw, 94px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Define a round background for our image under <code>res/drawable</code>:</p>\n<pre><code class=\"language-xml\">&#x3C;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"oval\">\n    &#x3C;solid android:color=\"#ffffff\" />\n    &#x3C;size\n        android:width=\"48dp\"\n        android:height=\"48dp\" />\n&#x3C;/shape>\n</code></pre>\n<p>Then <code>custom_tab.xml</code> under <code>res/layout</code></p>\n<pre><code class=\"language-xml\">&#x3C;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:background=\"#888\"\n    android:layout_marginTop=\"10dp\"\n    android:layout_marginStart=\"10dp\"\n    android:gravity=\"center\">\n\n    &#x3C;ImageView\n        android:padding=\"15dp\"\n        android:id=\"@+id/tabImage\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:scaleType=\"centerInside\"\n        android:background=\"@drawable/white_circle\" />\n\n    &#x3C;TextView\n        android:paddingTop=\"5dp\"\n        android:id=\"@+id/tabText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textColor=\"#000\"\n        android:textSize=\"12sp\" />\n\n&#x3C;/LinearLayout>\n</code></pre>\n<p>Under <code>drawable</code> again add some images you want to use for your tabs. Let's say they are <code>dog.png</code> and <code>cat.png</code>. Now adding a neat tab with your custom layout will be as easy as last time.</p>\n<pre><code class=\"language-kotlin\">val tab = LayoutInflater.from(applicationContext).inflate(R.layout.custom_tab, null)\ntab.tabImage.setImageResource(R.drawable.dog)\ntab.tabText.text = \"DOG\"\nmyTabLayout.addTab(myTabLayout.newTab().setCustomView(tab))\n</code></pre>\n<h2>Little fancy customization</h2>\n<p>In the end, I'd like to share with you my concept of a TabLayout view, feel free to take some inspiration. Here's how it's going to look like:</p>\n<p><img src=\"../../../static/images/radek/tablayout.gif\" alt=\"Sliding Layout GIF\"></p>\n<p>To achieve that we'll need to override some TabLayout functionality! This is what we are going to start with:</p>\n<pre><code class=\"language-kotlin\">class SlideLayout @JvmOverloads constructor(\n        context: Context,\n        attrs: AttributeSet? = null,\n        defStyleAttr: Int = 0) : TabLayout(context, attrs, defStyleAttr) {\n\n      init {\n        addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                tab.customView?.tabText?.setTypeface(null, Typeface.BOLD)\n            }\n\n            override fun onTabUnselected(tab: TabLayout.Tab) {\n                tab.customView?.tabText?.setTypeface(null, Typeface.NORMAL)\n            }\n\n            override fun onTabReselected(tab: TabLayout.Tab) = Unit\n\n        })\n    }\n\n}\n</code></pre>\n<p>The simplest change is to make the tab's text bold when it is selected. We need <code>addOnTabSelectedListener</code> where we can implement the tab's behavior on selection. Then just apply a <code>typeface</code> as above! In XML definition remove highlight with the following attribute:</p>\n<pre><code class=\"language-xml\">&#x3C;com.bob.tabs.SlideLayout\n    ...\n    app:tabIndicatorHeight=\"0dp\"\n</code></pre>\n<p>First step done.</p>\n<h4>Center tabs</h4>\n<p>Next thing we will do is to display tabs with a selected tab in the center. Add this attribute to XML definition:</p>\n<pre><code class=\"language-xml\">&#x3C;com.bob.tabs.SlideLayout\n    ...\n    app:tabMode=\"scrollable\"\n</code></pre>\n<p>It will allow tabs to get over the screen. In consequence, selecting different tabs will scroll the whole layout and display selected one in the center if the rest of the tabs fill the remaining part of the screen. That means a few first and a few last tabs won't be centralized but aligned with the edge of the parent view. But! We can change it! In <code>onLayout</code> method let's do some math. We will add padding to the first and the last tab, so it is always in the center, and that's how we could calculate it:</p>\n<pre><code class=\"language-kotlin\">override fun onLayout(changed: Boolean, l: Int, t: Int, r: Int, b: Int) {\n    super.onLayout(changed, l, t, r, b)\n\n    val lastTabIndex = getTabContainer()?.childCount?.minus(1) ?: 0\n    val firstTab = getTabView(0)\n    val lastTab = getTabView(lastTabIndex)\n\n    if (firstTab != null &#x26;&#x26; lastTab != null) {\n        val paddingLeft = width / 2 - firstTab.width / 2\n        val paddingRight: Int = width / 2 - lastTab.width / 2\n\n        ViewCompat.setPaddingRelative(getTabContainer(), paddingLeft, 0, paddingRight, 0)\n    }\n}\n</code></pre>\n<p>And these are some helper methods:</p>\n<pre><code class=\"language-kotlin\">private fun getTabContainer(): ViewGroup? = getChildAt(0) as? ViewGroup\nprivate fun getTabView(position: Int): View? = getTabContainer()?.getChildAt(position)\n</code></pre>\n<h4>Resizing</h4>\n<p>Now the last feature! Let's make our tabs resize when they away from the center, so we could get the impression they are on the carousel. Define some zoom multiplicators and help array:</p>\n<pre><code class=\"language-kotlin\">private val MAX_ZOOM = 1.0f\nprivate val MIN_ZOOM = 0.6f\nprivate var screenPos = IntArray(2)\n</code></pre>\n<p>Then do some math once again! This time we need to override <code>onDraw</code> method:</p>\n<pre><code class=\"language-kotlin\">override fun onDraw(canvas: Canvas) {\n\n        getTabContainer()?.let {\n            for (i in 0 until it.childCount) {\n                getTabView(i)?.let {\n\n                    it.getLocationOnScreen(screenPos)\n                    val pos = screenPos[0]\n                    val width = it.width\n\n                    val scale: Float\n                    val tabCenter = pos + width / 2\n\n                    if (tabCenter &#x3C;= 0 || getWidth() &#x3C;= tabCenter) {\n                        scale = MIN_ZOOM\n                    } else {\n                        val sliderCenter = (getWidth() / 2).toFloat()\n                        val distance = Math.abs(sliderCenter - tabCenter)\n                        scale = MAX_ZOOM - (MAX_ZOOM - MIN_ZOOM) * distance / sliderCenter\n                    }\n\n                    /* View draw start in left top corner */\n                    it.pivotY = 0f\n\n                    it.scaleX = scale\n                    it.scaleY = scale\n\n                }\n            }\n        }\n\n        super.onDraw(canvas)\n    }\n</code></pre>\n<p>While calculating how much to scale the tab, we need to define how far away (<code>distance</code>) is our tab from the center (<code>sliderCenter</code>). Base on that we choose, scale a multiplicator between <code>MIN_ZOOM</code> and <code>MAX_ZOOM</code>.</p>\n<p>That's it, your sliding tabs are ready to use!</p>\n<p><img src=\"../../../static/images/radek/sliding_penguin.gif\" alt=\"Slide Penguin GIF\"></p>\n<p>The full code you can find on <a href=\"https://github.com/pieczatek/tablayout-tutorial\">my github</a> account. It contains even more functionalities with scrolling and docking tabs in the center. Feel free to test it, use it and modify it!</p>\n<h4>References:</h4>\n<ol>\n<li><a href=\"https://material.io/guidelines/components/tabs.html\">Tabs / material.io</a></li>\n<li><a href=\"https://developer.android.com/reference/android/support/design/widget/TabLayout.html\">TabLayout / developer.android.com</a></li>\n</ol>","excerpt":"Proper content organisation in your Android application may be achieved with a wide range of layouts and widgets. Today I'd like to focus on…","frontmatter":{"slug":null,"title":"Tabs - navigation pattern on Android","description":null,"author":"radek","tags":["android","tabs","tablayout","layout","user interface","customization"],"date":"2018-01-02T23:00:00.000Z","image":null},"timeToRead":8,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2018-01-03-tabs-navigation-pattern.md"},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2018-01-03-tabs-navigation-pattern.md"}},"staticQueryHashes":["2189233960","3181594896"]}