{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/ios-google-configuration-per-environment","result":{"data":{"markdownRemark":{"html":"<p>If you have ever used <a href=\"https://developers.google.com/identity/sign-in/ios/start\">Google Sign-In</a>, <a href=\"https://firebase.google.com/docs/ios/\">Firebase</a>, or <a href=\"https://developers.google.com/analytics/devguides/collection/ios/v3/\">Google Analytics</a> for iOS, you should be familiar with a <code>GoogleService-Info.plist</code> configuration file. Using property list files instead of setting every required property manually in code is convenient, especially while using more than one Google service at once and the configuration grows. But have you ever wondered how  this can be adjusted to multiple environments?</p>\n<h2>Environments</h2>\n<p>To set up multiple environments in iOS application I use <strong>build configurations</strong>. By default, every iOS app has two build configurations: Debug and Release. In our projects we usually have three:</p>\n<ul>\n<li>Develop - application for developers with debug enabled, usually connecting to the Stage backend.</li>\n<li>Stage - signed application connecting to the Stage backend for early TestFlight testing.</li>\n<li>Prod - signed application connecting to the production backend, published to the store after UAT (User Acceptance Testing) on TestFlight.</li>\n</ul>\n<p>You can define build configurations in the project settings ([PROJECT]→Info).</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d2ec19e23c4ba12c2059799f2e0fd66b/b79a5/build-configurations.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABc0lEQVQoz3VSi26kMAzk/z9v6UkUAuqWEI5kWd6vXWBO4ztQ22tHMqBgj2cce8/nE1prpGmKrutB7PuOr+DZcc73tm34Dt66rnDOYVmW/whYxOB33/eSVxQF7vc7Ho/H2eRjnod9w9U2eHs3cM7CWvupARsSVVUhyzI0TYNxHEFnJOX7IBVCmljGEdp/QagUkiRGHMfItJbCw+btdoN/ucD3fQRBgCiMoBQjlmb7P1fevq1Q2kGbAtYWp8JxnE4rBM+iKIIxmVimg3meP6k8Fc7jjPeLjzCKRB3DGCMFB2FZlngNAoRhKP+TJJHgGEh6Wt7WJ3JXoa4bDEOPYRjEKhUcnYm2bWUT8jxHXdenMuZ+vCBPujcTossvsRQrBaWUzIwFDIKjoDqumMmMOBDyppGLY1Clx4J1mVGbDPnvvzO0RQFnLaZpOjtzbXSa4nq9QqdaiHlxJGXeSchH13Vo+x7HPrcLkLgFTVXiVpai9uue/oQ/lxz/wEafeogAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/d2ec19e23c4ba12c2059799f2e0fd66b/fcda8/build-configurations.png\"\n        srcset=\"/static/d2ec19e23c4ba12c2059799f2e0fd66b/12f09/build-configurations.png 148w,\n/static/d2ec19e23c4ba12c2059799f2e0fd66b/e4a3f/build-configurations.png 295w,\n/static/d2ec19e23c4ba12c2059799f2e0fd66b/fcda8/build-configurations.png 590w,\n/static/d2ec19e23c4ba12c2059799f2e0fd66b/efc66/build-configurations.png 885w,\n/static/d2ec19e23c4ba12c2059799f2e0fd66b/c83ae/build-configurations.png 1180w,\n/static/d2ec19e23c4ba12c2059799f2e0fd66b/b79a5/build-configurations.png 1372w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>User-Defined settings</h4>\n<p>Build configurations let you easily use different <strong>User-Defined settings</strong> for each configuration. You can define these at the bottom of target build settings ([TARGET]→Build Settings).</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/249d9b26766af8c46591bc8e4b3d948f/27f8b/user-defined-settings-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA10lEQVQY0z2Q2W6DQAxF+f/faf8Ckr4g+lRlqQjbQAKzMQucKpO2lo5ky7aur7MdMFpy6SWfN0vXthhjmB8PrreBw9ny1WpW52hmx2wj3jv6vkdrnei6DuccIQQyrRTRr1S15f04YY1GKQ1bQKiNtzLy8R3wq0m9aRRM04QQgmEYWJaFfd8T27aRnU4nzucLRs2YZUxDQgz4EHjF/gvpiqqqKIqC4+FInueUZckoRu73exLK6rqmaRqkVCyLRMoXz+UYI84HfIjJzrO21v5bfb7mL1dKJX4AeWgwpmPpjmgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/249d9b26766af8c46591bc8e4b3d948f/fcda8/user-defined-settings-1.png\"\n        srcset=\"/static/249d9b26766af8c46591bc8e4b3d948f/12f09/user-defined-settings-1.png 148w,\n/static/249d9b26766af8c46591bc8e4b3d948f/e4a3f/user-defined-settings-1.png 295w,\n/static/249d9b26766af8c46591bc8e4b3d948f/fcda8/user-defined-settings-1.png 590w,\n/static/249d9b26766af8c46591bc8e4b3d948f/efc66/user-defined-settings-1.png 885w,\n/static/249d9b26766af8c46591bc8e4b3d948f/c83ae/user-defined-settings-1.png 1180w,\n/static/249d9b26766af8c46591bc8e4b3d948f/27f8b/user-defined-settings-1.png 1730w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0d837997f5928ce264d7691748a40b42/e8e04/user-defined-settings-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.243243243243242%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAk0lEQVQY022QzQqDMBCE8/6v1wheg6CJpcZLyE+zTplUBW0H5rDh22E2yloLYwyWZcGhbdt+TEktKDGglIKcM1JKzSJy7qnJThjHEd77BtL/AhlZ3wXP2cI51wqEEBBjRK315BQfaQYNwwDn5m8bkYsJk+n7Hl3Xwa/r5ZqDU8eZHAiuO3gPpNhG6we01njtX3TnPiafNxfRzG9uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/0d837997f5928ce264d7691748a40b42/fcda8/user-defined-settings-2.png\"\n        srcset=\"/static/0d837997f5928ce264d7691748a40b42/12f09/user-defined-settings-2.png 148w,\n/static/0d837997f5928ce264d7691748a40b42/e4a3f/user-defined-settings-2.png 295w,\n/static/0d837997f5928ce264d7691748a40b42/fcda8/user-defined-settings-2.png 590w,\n/static/0d837997f5928ce264d7691748a40b42/efc66/user-defined-settings-2.png 885w,\n/static/0d837997f5928ce264d7691748a40b42/c83ae/user-defined-settings-2.png 1180w,\n/static/0d837997f5928ce264d7691748a40b42/e8e04/user-defined-settings-2.png 1270w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Respectively, you can use User-Defined settings in the <strong>Info.plist</strong> file.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0f16fd2f78417cc488d477c04bb7a5c4/21cdd/info-plist.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABOklEQVQoz3WRfWuDMBDG+/2/0mDs75ZSGA6ZA63WGE2jJi1aX5I+445a7GAHR4478stzTzaXywWllJBSIj+dYK0FhXMO9/ud63meuabe36D+OjfrYV3XyLIMZVkymAB934MenaYJVVWhaRpYa9A2Dc8I4r3nZODSoKALURQhS1O0bYthHPkk+O1245oeGccRwzCw8gX2AlxWI4VJkqCuNUOMMazuer0yhOakkOo16F9gURQIggBpmiLPcyh1ZjCrHQYUQjDUPOxYtqNzdo7rV6AQCMOQ1yYowbquY89IldYa8zw9136qe3wYA5efolBKIY4TCCFYLak8a83m06cUUrLPrNIYuJWHi58blkwND2y/Fd52PzgkFmHlERQjdpHCNjrj89Tj43DE+z7GPraINBBW7plfpUfTefwCkwdmy7N5pfkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/0f16fd2f78417cc488d477c04bb7a5c4/fcda8/info-plist.png\"\n        srcset=\"/static/0f16fd2f78417cc488d477c04bb7a5c4/12f09/info-plist.png 148w,\n/static/0f16fd2f78417cc488d477c04bb7a5c4/e4a3f/info-plist.png 295w,\n/static/0f16fd2f78417cc488d477c04bb7a5c4/fcda8/info-plist.png 590w,\n/static/0f16fd2f78417cc488d477c04bb7a5c4/efc66/info-plist.png 885w,\n/static/0f16fd2f78417cc488d477c04bb7a5c4/c83ae/info-plist.png 1180w,\n/static/0f16fd2f78417cc488d477c04bb7a5c4/21cdd/info-plist.png 1680w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>In the example above, the application will use different <code>FacebookAppID</code> properties for each build configuration. <code>FacebookAppID</code> property is automatically used by the <a href=\"https://developers.facebook.com/docs/ios/\">Facebook SDK for iOS</a>, but you can also refer to these values directly in the code:</p>\n<pre><code class=\"language-swift\">if let path = Bundle.main.path(forResource: \"Info\", ofType: \"plist\"),\n   let dict = NSDictionary(contentsOfFile: path) as? [String: AnyObject] {\n    // read values from dict\n}\n</code></pre>\n<h2>Google configuration</h2>\n<p>One might think that you can do the same with <code>GoogleService-Info.plist</code> configuration file. <strong>Unfortunately, you cannot read User-Defined settings from custom property list files</strong>, you can only do that in the Info.plist files defined in the target Build Settings.</p>\n<p>Considering there can be only one <code>GoogleService-Info.plist</code> file and it is not possible to read User-Defined settings from custom .plist files, how would you set up different Google configuration for each environment?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8e9ba5192fa7cef4adb4b07dc4051ae5/1abae/sad.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.21621621621621%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAX8vcCOJyz//xAAcEAABAwUAAAAAAAAAAAAAAAABAAIxAwQRISL/2gAIAQEAAQUCraDnjJm9PUIuX//EABgRAAIDAAAAAAAAAAAAAAAAAAASARFh/9oACAEDAQE/AYVdKP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAMBAQAAAAAAAAAAAAAAAAABEBFx/9oACAEBAAY/AjIhcn//xAAZEAEBAQEBAQAAAAAAAAAAAAABACFRETH/2gAIAQEAAT8hGpaM2JGNHTvyeqr62db/2gAMAwEAAgADAAAAEFPf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARcf/aAAgBAwEBPxAImdW7/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EHRtv//EABoQAQEBAQEBAQAAAAAAAAAAAAERAEEhMWH/2gAIAQEAAT8QpiWwvMtpOnmoYfoeZQQ8MFWA0rPzUvzzf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/8e9ba5192fa7cef4adb4b07dc4051ae5/1c72d/sad.jpg\"\n        srcset=\"/static/8e9ba5192fa7cef4adb4b07dc4051ae5/a80bd/sad.jpg 148w,\n/static/8e9ba5192fa7cef4adb4b07dc4051ae5/1c91a/sad.jpg 295w,\n/static/8e9ba5192fa7cef4adb4b07dc4051ae5/1c72d/sad.jpg 590w,\n/static/8e9ba5192fa7cef4adb4b07dc4051ae5/a8a14/sad.jpg 885w,\n/static/8e9ba5192fa7cef4adb4b07dc4051ae5/1abae/sad.jpg 986w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Run Scripts to the rescue</h2>\n<p>Fortunately, you can add new <strong>Run Script Phase</strong> to target Build Phases that will <strong>copy a proper Google configuration file</strong> to default <code>GoogleService-Info.plist</code> place.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c5cd55f142432b9502f5d94325373293/d5b59/run-script-phase-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQ0lEQVQoz3VSgY6CMBTj///OE5NL4FA0siHIENAgbPTS540sF13SbJD3+tpuUVNX6LoO1loURSHnaZpwvV7RNA2cc7jf73g+n7hcLtBaYxxH1MOEoh0xTg6tMVBKS030nSu0rREiFvZdh6qqYIxBXddyfjweK/q+l4HOWizWws4zrHMyeJ5nREmWi5rb7SYotcZut8PXZoM4jgUk5gCSc/CyLOLI2hfR62zlf/TzHWO7jYUkSVOxlGUZkiRBmqY4HA4ykKTEMAzgYnMI96cyolx6pw2fHUmZp1JKdoL5kZCWQwIPKhRC/Ft1VeF8Pn/EJ0LmJ4ShbC7eaFmWqzqqfSlWkjFdeMKwd83Q5+F3FvK5nE6n1bbSWi4krAnhCVfL4SRKZ177/R55nuN4PMpO5WHjR8vvCI08VLU+ZH6Hwb+DV/gLLoIByjvl984AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/c5cd55f142432b9502f5d94325373293/fcda8/run-script-phase-1.png\"\n        srcset=\"/static/c5cd55f142432b9502f5d94325373293/12f09/run-script-phase-1.png 148w,\n/static/c5cd55f142432b9502f5d94325373293/e4a3f/run-script-phase-1.png 295w,\n/static/c5cd55f142432b9502f5d94325373293/fcda8/run-script-phase-1.png 590w,\n/static/c5cd55f142432b9502f5d94325373293/efc66/run-script-phase-1.png 885w,\n/static/c5cd55f142432b9502f5d94325373293/c83ae/run-script-phase-1.png 1180w,\n/static/c5cd55f142432b9502f5d94325373293/d5b59/run-script-phase-1.png 1370w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The script is really simple and it only copies a plist file from Resources using a predefined <code>CONFIGURATION</code> variable that points to the build configuration. In the build configurations listed above, it replaces <code>GoogleService-Info.plist</code> file content with one of the following files stored in Resources:</p>\n<ul>\n<li>GoogleService-Info-Develop.plist</li>\n<li>GoogleService-Info-Stage.plist</li>\n<li>GoogleService-Info-Prod.plist</li>\n</ul>\n<pre><code class=\"language-bash\">cp \"${SRCROOT}/src/Resources/GoogleServiceInfoPlists/GoogleService-Info-$CONFIGURATION.plist\" \"${SRCROOT}/src/GoogleService-Info.plist\"\n</code></pre>\n<p><code>SRCROOT</code> is also predefined and it points to the project location.</p>\n<p>Note that <code>src/GoogleService-Info.plist</code> must be added to target <strong>Copy Bundle Resources</strong> build phase, while Google configuration files to be copied from resources not necessarily.</p>\n<h4>Caution!</h4>\n<p>The Run Script that updates <code>GoogleServiceInfo.plist</code> file must be dragged <strong>before Copy Bundle Resources</strong> phase. Otherwise, it will not work because the default Google configuration file will be used.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cd1a578fa2b52425709d43b5fbecbc23/71ba4/run-script-phase-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8ElEQVQoz51Si27DIAzs/39mtZY0CQHS8AbfBA006rpOGtIpxsqdzzYn5xyUUhBCgHOOmDPKoR3t1Ds980T0jPd7zhmnI2VVCvbrDM8u8OMANzBYdoFlV7gbg5cCfuEVQSl4PsNNN7h5RFjVQ5BqWYLxGZvWuE8j5MCwzhOcFEhaI24bkjWV0ECHuOeIdkEA2gWM44SltL4IrNtW2//Remn1A7og6FEFr+TdTQwBIYTu5E/BlHIlpJQQY6wocYP3HmWBr/kj+gwLSqIQfnNwnNNHh3gzn1atoRWz1laH+c1C+lLKT1LK+hbL1xjTRf6Dbzh6w+BZFnU0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/cd1a578fa2b52425709d43b5fbecbc23/fcda8/run-script-phase-2.png\"\n        srcset=\"/static/cd1a578fa2b52425709d43b5fbecbc23/12f09/run-script-phase-2.png 148w,\n/static/cd1a578fa2b52425709d43b5fbecbc23/e4a3f/run-script-phase-2.png 295w,\n/static/cd1a578fa2b52425709d43b5fbecbc23/fcda8/run-script-phase-2.png 590w,\n/static/cd1a578fa2b52425709d43b5fbecbc23/efc66/run-script-phase-2.png 885w,\n/static/cd1a578fa2b52425709d43b5fbecbc23/c83ae/run-script-phase-2.png 1180w,\n/static/cd1a578fa2b52425709d43b5fbecbc23/71ba4/run-script-phase-2.png 1870w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Alternatives</h2>\n<p>Alternatively, you can set Google Client ID and other Google configuration properties directly in the code, for example:</p>\n<pre><code class=\"language-swift\">GIDSignIn.sharedInstance().clientID = \"CLIENT_ID\"\n</code></pre>\n<p>To keep different Google configuration for each environment you can read a proper Google plist file according to build configuration or store Google configuration on your own, without property list files.</p>\n<p>To determine build configuration at runtime you can use <strong>Other Swift Flags</strong> in target Build Settings. For each build configuration add a flag with environment starting with <code>-D</code>, like <code>-DDEVELOP</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d3bc4583c6267ebc7da77123adccbc90/e216b/other-swift-flags.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.405405405405407%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAn0lEQVQY04WR3QqEIBSEe/9H7KKLCG9CNDU3y5xlDuvSBm7Ch39zZjzYTdOEcRzR9z201vDewzknGGNgrcWyLD+0zlnT4TPmeUaML5znieM4ZGbAMAxSvK4rQghNeE+dGJZSqq+s656JSikpyDlLUAves7uuGvBFpK45M5Xifd+RUvoLNd+WryZ3wyp+gsHywmubdyiIMWLbtkcYzI95A8/W0zCK3mC4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/d3bc4583c6267ebc7da77123adccbc90/fcda8/other-swift-flags.png\"\n        srcset=\"/static/d3bc4583c6267ebc7da77123adccbc90/12f09/other-swift-flags.png 148w,\n/static/d3bc4583c6267ebc7da77123adccbc90/e4a3f/other-swift-flags.png 295w,\n/static/d3bc4583c6267ebc7da77123adccbc90/fcda8/other-swift-flags.png 590w,\n/static/d3bc4583c6267ebc7da77123adccbc90/efc66/other-swift-flags.png 885w,\n/static/d3bc4583c6267ebc7da77123adccbc90/c83ae/other-swift-flags.png 1180w,\n/static/d3bc4583c6267ebc7da77123adccbc90/e216b/other-swift-flags.png 1904w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Then you can easily determine build configuration at runtime:</p>\n<pre><code class=\"language-swift\">#if DEVELOP\n    // Develop\n#elseif STAGE\n    // Stage\n#elseif PROD\n    // Prod\n#endif\n</code></pre>\n<p>This post was inspired by <a href=\"https://stackoverflow.com/q/34067120/1570496\">this StackOverflow topic</a>.</p>","excerpt":"If you have ever used Google Sign-In, Firebase, or Google Analytics for iOS, you should be familiar with a GoogleService-Info.plist…","frontmatter":{"slug":null,"title":"How to use different Google configurations for each build config","description":null,"author":"mateusz","tags":["ios","xcode","build configurations"],"date":"2018-02-07T23:00:00.000Z","image":null},"timeToRead":4,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2018-02-08-ios-google-configuration-per-environment.md"},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2018-02-08-ios-google-configuration-per-environment.md"}},"staticQueryHashes":["2189233960","3181594896"]}