{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/react-native-custom-ios-build-configurations","result":{"data":{"markdownRemark":{"html":"<p>Default iOS build configurations, <strong>Debug</strong> and <strong>Release</strong>, might be enough for the beginning, but sooner or later you will probably need to extend the number of build configurations in your app. While this is pretty straightforward in native development, unfortunately, it is not in React Native.</p>\n<h2>Build configurations</h2>\n<p>To manage build configuration go to Xcode the project settings ([PROJECT]→Info):</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 226px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ea5a8bd36a83e8a0e3846de8f988850a/5f7d4/project-target.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+UlEQVQoz52QT08TURTF54sQXbkwRBOjH8RE1279AEQhiFRWujYxxkVR3LgSAReayMYARmMI0Jl2/rwZSNpimaFTCnQ6/39m3hQSTNxwk5N73rnv3nfuUwbBkAPvkM6Bh9874k/H5bDbIxiGFLUS4T/5/1Agoyk01M1fOIaKvrNJ3/e4bCiTiy5Tn7rMffF5sepT+exTWekyu+xRWfGoLJd4suTxbMVjatFlZsmT9UIr+h9/dJkcQVHuqyh3aygPLcaedxibENyadbhdcbgzt8v4tODmjM2VCYsbT23GZ2yuTQmuTwuuPrJQHtTL/nsjVNe6vPq2z+vVfd6stnn5tcn8d5f3P3q8XfdZ2OjxbsM/x4efxbnUFkZadc1nfr2EUuztNk0s9Td2Y4u2U+fIbV3+D5M0J8lyojjltNcnjFPJwxHiJCu1pDynGVKLkkzmOM0vQMnzTE72XRN1qYpZN9ANHbVWZ2d7G9O00LQGwhI0GjoN3cDQdXTdwBKC09OB7M/zvHR4RoLgBP+wQxSGRFFEHCfEcUySJJJnWUYcxbJW8CQt3GbyzlkUs84HHvX7tFpNhBCYpkFd09FUFVvY6LqJYzulK8vGMk3pfHdvT/KaqtFqty86LJyEYShfDAYDgmBIGA6lNhyWOQojjo9PRtrZJrG8G0Wl079o1xV9ezlvgAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/ea5a8bd36a83e8a0e3846de8f988850a/5f7d4/project-target.png\"\n        srcset=\"/static/ea5a8bd36a83e8a0e3846de8f988850a/12f09/project-target.png 148w,\n/static/ea5a8bd36a83e8a0e3846de8f988850a/5f7d4/project-target.png 226w\"\n        sizes=\"(max-width: 226px) 100vw, 226px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>You can easily add a new build configuration by <strong>duplicating an existing one</strong>. Duplicate Debug configuration for development and Release configuration for Test Flight and App Store build. You can also rename any configuration by double-clicking on it quickly.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 499px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a37b49cf07c7c8b540c67a596d642259/119c7/build-configurations.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVQoz4VSXW+DMAzM//9f++hKs6fuZSUkERNIFSDSFmhFetMZZZuqbrN0Otm5HLaJOhwO8N4LyvIDl8sFjOv1iv+CmludijHieDyCLILEd5A00zQhhCDMu2yKzFwxscagD0HE8zwviFGYJgnMqRlOJ9jCwhiDPDdwzmEcJ9EoOnNcFhgx3u8s4afh7n2HPM/F8Dydl5H7vkfTNBiGAeM0Lhi/wTHmOH91SGatbTu0bSvouk5q3L9i4p2Hdw5FYeGsg7UWheEoXj7WtZ1c4t5oNAzjrz9K7fd7ZC9rrJ5XyDYaeqPxqjUeH56w3b6B58mM6wl9EMPUcUJaiaqqChutkWWZGNR1jbIs5QnxjGZ/PZlbfAJfs2dtK2np2AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/a37b49cf07c7c8b540c67a596d642259/119c7/build-configurations.png\"\n        srcset=\"/static/a37b49cf07c7c8b540c67a596d642259/12f09/build-configurations.png 148w,\n/static/a37b49cf07c7c8b540c67a596d642259/e4a3f/build-configurations.png 295w,\n/static/a37b49cf07c7c8b540c67a596d642259/119c7/build-configurations.png 499w\"\n        sizes=\"(max-width: 499px) 100vw, 499px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>Debug vs Release</h4>\n<p>Debug configuration builds the complete symbolic debug information without any code optimizations to facilitate debugging applications. In Release configuration code execution is optimized and symbolic information is not included in build which results in a smaller size of the final executable. Release builds will execute faster although due to compiler optimizations you can expect differences in memory layout or initialization which might result in so-called \"Release-only\" bugs.</p>\n<h4>Run build configuration</h4>\n<p>The steps presented above steps are enough to set up new build configurations in a native development. To run the app in build configuration open <strong>scheme</strong> and change Run build configuration:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/01a974375f262f3b1a513d736ff7439e/6c745/select-build-configuration.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcElEQVQoz5VTPU/DMBTM/2Vh4L+wsYL4AwwsIBYGkBiQGKpSlDS0aRx/xIlrp4kPPaOYtIAEJ52cvPd0d47jhK9TbPIF1CaHLHPkWYYsWyLLMqxWK0gpIYSIK+c8MNQEj+8jk6d5iavHd1w/S9y8KPB6i13nYJ2DsxZKt1BKgVUV2rZF0zQwxoBzgcY4dF0XqbVGcna7xsnFEkfnBY4vC+SiA8ETvYfdWkipQkIlJdrWwJBwazBjPs4SyDAxWsCoEhF+gPefYgRrLeq6BhMaRVEEUhJrHRoXbONsEGSswuviDdbt0A8ewzDsJ7QWjdaQ2oZUtLWJ+555ECQ3IglRIwr6L+eh7yEbCzIXQobvSOwns1HQOffldyA4XaeY9qbGQZC2NBUbk/6XBEq9l/C3RH8FnX5CMUmUkh6S6mNvfP6Jxjpo00EqjYT++DzPkaYpyrKEEDzckjTNwBgLNepVVfWNdEhaMjzMBU7vGtzPFD4AnRlSiyzhu3YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/01a974375f262f3b1a513d736ff7439e/fcda8/select-build-configuration.png\"\n        srcset=\"/static/01a974375f262f3b1a513d736ff7439e/12f09/select-build-configuration.png 148w,\n/static/01a974375f262f3b1a513d736ff7439e/e4a3f/select-build-configuration.png 295w,\n/static/01a974375f262f3b1a513d736ff7439e/fcda8/select-build-configuration.png 590w,\n/static/01a974375f262f3b1a513d736ff7439e/efc66/select-build-configuration.png 885w,\n/static/01a974375f262f3b1a513d736ff7439e/6c745/select-build-configuration.png 893w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Problems in React Native</h2>\n<p>To start the iOS app with build configuration specified in React Native you can simply run:</p>\n<p><code>react-native run-ios --configuration Stage</code></p>\n<p>Unfortunately, this will fail for any Release-based configuration with an error saying that it cannot find <code>RCTBundleURLProvider</code> in AppDelegate:</p>\n<blockquote>\n<p>AppDelegate.m:2:9: 'React/RCTBundleURLProvider.h' file not found</p>\n</blockquote>\n<p>We need to add missing <strong>Header Search Paths</strong> and <strong>Library Search Paths</strong> in the target build settings ([TARGET]→Build Settings) for new Release build configurations.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 173px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/56cf02f635c30c8e43f8b7a2504c3ab4/991de/build-settings-search-paths.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACGklEQVQ4y52Ua0/iUBCG+f+/xP1o9oOaXRUqINcCBbYItZdDy7UF5KJFgWfTYisaVzdMMjk5M533vPPOpInFYoFSq5FPZ0jnShQyEucX1+i6wU0qSeZGQpZlbm9zNOsVUimJ31fXSMkkhtUlsO12S2SJ3W7H2vcZDQYYlsAydDTNYDadMRwO0DodLEtg2w4Tz2U4HIX38WjEw3weA202mxA4wRFmmyZSOkM+l6WQy6I01DC+CwADhpFvg3O7DV+KY5tN+HrkQWw68UJJhBD8adSQq7WY5ZcMg+LP7sK0qFSqdLR7DNN8ze11THwHFrJ8ZR2J/zB7wLEdWq0W/cHgvYZRweEZt3sAFHhQFGpo25TKMv1+n7uWymQ2j6d91FC8iUe1WqNYzHN+do43nb9puFqtaLc7uMMBDUXBEl2E6OKOXZrNOrphhIx0XUdr39FQVdraPdq9xmr19E6iwBPPz8/0ez0MrUM6LVGSyxQLJVS1RbVS5jqZoixXUJQaarOJUq+TL1colfI4zvAN8FWuo1qeei6mJRDCpOc4jN3Jm4afDuFDLJrg5uVlPxTLJCWlyWYzXP464zIp7QGjPTwEPfSPuWhtPM8LJ7xcPTKdTff571r+CtAWXYqFIpIkUW/U43b/G/DjYi8Wc0Zjl7W/Zrlc8OSv4++OYtjRNE5Pf3J1dcmPkxN6I+/7xf4Xw8N/n+/7PD4+xWAB4F/VExXYLr67qgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/56cf02f635c30c8e43f8b7a2504c3ab4/991de/build-settings-search-paths.png\"\n        srcset=\"/static/56cf02f635c30c8e43f8b7a2504c3ab4/12f09/build-settings-search-paths.png 148w,\n/static/56cf02f635c30c8e43f8b7a2504c3ab4/991de/build-settings-search-paths.png 173w\"\n        sizes=\"(max-width: 173px) 100vw, 173px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Add an entry to <strong>Headers Search Paths</strong> for each new Release build configuration:</p>\n<p><code>$(BUILD_DIR)/Release-$(PLATFORM_NAME)/include</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2248302963bedb3a48b3962d4b8db9a6/be86f/header-search-paths.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVQI1zWISQqAQAzA/P8D1WsZ6UJ9wLSXDApzCCE5rvNmjIdwJzxwd8wMUyPzZc5Jd1NVvzdf75eZiAiqxgLlPEvY3+e/WAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/2248302963bedb3a48b3962d4b8db9a6/fcda8/header-search-paths.png\"\n        srcset=\"/static/2248302963bedb3a48b3962d4b8db9a6/12f09/header-search-paths.png 148w,\n/static/2248302963bedb3a48b3962d4b8db9a6/e4a3f/header-search-paths.png 295w,\n/static/2248302963bedb3a48b3962d4b8db9a6/fcda8/header-search-paths.png 590w,\n/static/2248302963bedb3a48b3962d4b8db9a6/be86f/header-search-paths.png 662w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Add an entry to <strong>Library Search Paths</strong> for each new Release build configuration:</p>\n<p><code>$(BUILD_DIR)/Release$(EFFECTIVE_PLATFORM_NAME)</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/69ed364f03568fb32e1ecc490e894244/d0cc0/library-search-paths.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.756756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVQI123JMRKAMAgAQf//xpgUOKQkghUU52id4maLO0bvtHYiciEi6Jw8Ebg7EUFmUlW/u753r4WqYma89NZMYXuqrvoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/69ed364f03568fb32e1ecc490e894244/fcda8/library-search-paths.png\"\n        srcset=\"/static/69ed364f03568fb32e1ecc490e894244/12f09/library-search-paths.png 148w,\n/static/69ed364f03568fb32e1ecc490e894244/e4a3f/library-search-paths.png 295w,\n/static/69ed364f03568fb32e1ecc490e894244/fcda8/library-search-paths.png 590w,\n/static/69ed364f03568fb32e1ecc490e894244/d0cc0/library-search-paths.png 732w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>Next, do the same for all Test targets</strong>, otherwise the command will still fail.</p>\n<p>Eventually, you can start the app with specified build configuration:</p>\n<p><code>react-native run-ios --configuration Stage</code></p>\n<p>and it should run without any problems.</p>\n<p>One might wonder why this is needed when we only change build configuration name and it was already working for Release. <strong>React Native supports Debug and Release build configurations out of the box</strong>, while any other configuration needs to be set up manually.</p>\n<h2>Every cloud has a silver lining</h2>\n<p>Defining iOS build configurations different than Debug and Release in React Native can be really frustrating without any previous experience. However, with a little guidance, it can be a quick and painless process.</p>\n<p>If you are interested in how to set up different Google configurations for each build configuration I recommend you <a href=\"https://brightinventions.pl/blog/ios-google-configuration-per-environment\">reading this tutorial</a>. Although it is written for native development, you can <strong>set up Run Scripts exactly the same in React Native</strong>.</p>","excerpt":"Default iOS build configurations, Debug and Release, might be enough for the beginning, but sooner or later you will probably need to extend…","frontmatter":{"slug":null,"title":"Different iOS build configurations than Debug and Release in React Native","description":null,"author":"mateusz","tags":["react native","ios","build configurations"],"date":"2018-02-27T23:00:00.000Z","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/a37b49cf07c7c8b540c67a596d642259/2db6e/build-configurations.png","srcSet":"/static/a37b49cf07c7c8b540c67a596d642259/2a410/build-configurations.png 125w,\n/static/a37b49cf07c7c8b540c67a596d642259/353df/build-configurations.png 250w,\n/static/a37b49cf07c7c8b540c67a596d642259/2db6e/build-configurations.png 499w","sizes":"(min-width: 499px) 499px, 100vw"},"sources":[{"srcSet":"/static/a37b49cf07c7c8b540c67a596d642259/c8d96/build-configurations.webp 125w,\n/static/a37b49cf07c7c8b540c67a596d642259/dae78/build-configurations.webp 250w,\n/static/a37b49cf07c7c8b540c67a596d642259/d1273/build-configurations.webp 499w","type":"image/webp","sizes":"(min-width: 499px) 499px, 100vw"}]},"width":499,"height":201}}}},"timeToRead":3,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2018-02-28-react-native-custom-ios-build-configurations.md"},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2018-02-28-react-native-custom-ios-build-configurations.md"}},"staticQueryHashes":["2189233960","3181594896"]}