{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/mastering-led-with-basic-wirelessly","result":{"data":{"markdownRemark":{"html":"<p>As a DIY fan I love to browse internet in search of ideas and inspirations. So I've found a pretty nice project, called <a href=\"https://www.esp8266basic.com/\">ESPBASIC</a>. I heard about BASIC, but I had  never had a chance neither to learn it nor to use it, so I thought it was 's time to meet BASIC (although it's just an interpreter). I have few ESP-12F chips in my drawer, few cables and LEDs scattered around and a free breadboard, and that will be enough for the first encounter with BASIC. My idea is simple and typical for electronics - I have decided to make <code>hello world</code> of DIY world - blinking LED.</p>\n<h1>Burning chips</h1>\n<p>There are a few steps:</p>\n<ol>\n<li>Connect uC to any UART controller (I'm using pl2303)</li>\n<li>Download a flashing tool from the <a href=\"https://www.esp8266basic.com/download.html\">official website</a></li>\n<li>Select a port and flash firmware</li>\n</ol>\n<p>I had only one problem there - drivers. Windows 10 is a bit too strict about drivers, so I had to download old version of my pl2303 driver and everything goes fine. Except that I think it's one of easiest firmwares to install.</p>\n<h1>Connecting</h1>\n<p>On your WiFi AP list should appear one more network called like <code>ESP AA:BB:CC:DD:EE:FF</code>. Just connect to it, discover device's IP (it should be <code>192.168.4.1</code>) and put it into the browser.\nYour eyes should see something like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 514px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/15107341b07d52ee9230b76d51f49605/dea13/screen1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.62162162162162%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmklEQVQI122Lyw6CMBRE+f+/YyFUtEAtBuhDkNLbUi7ElIUhxpOzmMxkkrbFS4asBn7tej4SEsoqFLclTRdK16bU/N4/iv5ZKUoDISHPljyPq1Zr8n4b/RrnGaaImabZGAvgrY0COAcOwIEFAP/trfXO+UQKwRjrum4Yh7pmDefgYN+3bcPDM3gWERMphZRSRKQ6glIa8ef2nw8vauJ3OTpSSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen 1\"\n        title=\"Screen 1\"\n        src=\"/static/15107341b07d52ee9230b76d51f49605/dea13/screen1.png\"\n        srcset=\"/static/15107341b07d52ee9230b76d51f49605/12f09/screen1.png 148w,\n/static/15107341b07d52ee9230b76d51f49605/e4a3f/screen1.png 295w,\n/static/15107341b07d52ee9230b76d51f49605/dea13/screen1.png 514w\"\n        sizes=\"(max-width: 514px) 100vw, 514px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>{: .center-image}</p>\n<p>In <code>SETTINGS</code> tab you can configure ESP to connect to your home wifi, setup OTA url (eg. url to BASIC file hosted on GitHub)</p>\n<h1>Hello world</h1>\n<p>ESPBASIC has nearly a plaintext, one-paged documentation:\n<a href=\"https://docs.google.com/document/d/1EiYugfu12X2_pmfmu2O19CcLX0ALgLM4r2YxKYyJon8/pub\">https://docs.google.com/document/d/1EiYugfu12X2_pmfmu2O19CcLX0ALgLM4r2YxKYyJon8/pub</a>\nSo I tried to put <code>Hello World</code> on my screen with the following code in <code>[EDIT]</code> tab:</p>\n<pre><code>print \"Hello World\"\n</code></pre>\n<p>Then <code>Save</code> file and <code>[RUN]</code> the code.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 147px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82a8e7e2dbf1338d66920cd110503cda/a70ce/screen2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.224489795918366%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVQoz6WQXU/CMBSG+/9/jgkfyoYaVjbdBoxM4i5G4MZ44Wk7RBbbnVMzhsELF0d8kqZpk/PxPgwRVVFIIYUQUkoAUIWqf6QQIBpkCwwRjdGEaE+Q1toYQ0T2LxjpcuROgsiPF6nHQ7Xfp8nsqt9b5+vNdrOY8SRb1W1+68VQH7gfObeDyTQcDq6j5ZN6e/X49DHgzv2d4/T8eWxbi4mqyhAiISIRETYLnx9ksYU68273LgQA1AcAam0C5A9RqgVGiEopPAu7AGZNOR4HnsdXz1mazPPtyzEgdSpGXUbxMgwfRjeuO+ynWV4ePj617jbZ2uoop/FZS0LsOrm5vgvowsz/4AsvFbGUzIco4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen 2\"\n        title=\"Screen 2\"\n        src=\"/static/82a8e7e2dbf1338d66920cd110503cda/a70ce/screen2.png\"\n        srcset=\"/static/82a8e7e2dbf1338d66920cd110503cda/a70ce/screen2.png 147w\"\n        sizes=\"(max-width: 147px) 100vw, 147px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>{: .center-image}</p>\n<p>Yeah! It was easy. But if you want to put one more <code>print</code>, you will see garbage (<code>&#x3C;hr></code> tag) above your text. Quickly look into documentation and you should find out there also <code>wprint</code> function, that put text on screen without any additional code.</p>\n<h1>Going blinky</h1>\n<p>I've connected LED to ESP-12's GPIO15 pin. Firstly I will try to just light my light up.</p>\n<pre><code>print \"Led ON\"\nio(po,15,1)\n</code></pre>\n<p>First try and it works! Just with one line, wireless, without compilation and without flashing. Wow!\n<code>io</code> is just a IO operation function\n<code>po</code> means 'pin out'\n<code>15</code> is pin number\n<code>1</code> is <code>high</code> state (<code>0</code> is <code>low</code>)</p>\n<p>Next step is to make a delay between turning LED on and off:</p>\n<pre><code>io(po,15,1)\ndelay 500\nio(po,15,0)\ndelay 500\nio(po,15,1)\ndelay 500\nio(po,15,0)\ndelay 500\nio(po,15,1)\ndelay 500\nio(po,15,0)\ndelay 500\n</code></pre>\n<p>And it blinks, but only few times with 0.5s delay. Last thing I need there is any loop here, and then I will have an awesome blinking machine!</p>\n<pre><code>For x = 1 to 60\n    io(po,15,1)\n    delay 500\n    io(po,15,0)\n    delay 500\nNext x\n</code></pre>\n<p>This code lasts after 60 seconds. Let's make it infinite!</p>\n<p><img src=\"../../../static/images/mastering-led-with-basic-wirelessly/blink.gif\" alt=\"Blinky\">{: .center-image}</p>\n<pre><code>variable = 0\nDo\n    io(po,15,variable % 2)\n    delay 500\n    variable = variable + 1\nLoop until 0 'infinite\n</code></pre>\n<p>Success! But ESP's \"IDE\" becomes unavailable. The reason is that <code>delay</code> operation takes all processor time.\nIt's better to use timer functions, which uses interrupts to count time.</p>\n<pre><code>variable = 0\n\nTimer 500, [blink]\n\n[blink]\n    io(po,15,variable % 2)\n    variable = variable + 1\nwait\n</code></pre>\n<p>Timer takes CPU time only every about 500ms, so it's possible to edit code and keep it running in the background.</p>","excerpt":"As a DIY fan I love to browse internet in search of ideas and inspirations. So I've found a pretty nice project, called ESPBASIC. I heardâ€¦","frontmatter":{"slug":null,"title":"Mastering LED with BASIC wirelessly","description":null,"author":"pawel","tags":["BASIC","esp8266","esp-12","LED","electronics"],"date":"2017-10-28T22:00:00.000Z","image":null},"timeToRead":3,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2017-10-29-mastering-led-with-basic-wirelessly.md"},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2017-10-29-mastering-led-with-basic-wirelessly.md"}},"staticQueryHashes":["2189233960","3181594896"]}