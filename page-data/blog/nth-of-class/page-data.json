{"componentChunkName":"component---src-templates-post-template-tsx","path":"/blog/nth-of-class","result":{"data":{"markdownRemark":{"html":"<p>My experience with frontend web development is not long yet, nevertheless, I have already got stuck a few times and spend like a few hours trying to find one perfect solution. I reckon that some of them are worth describing. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/be08900d8694532ac36a4698ff68fef4/d2602/image1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABrfajJgjof//EABsQAAIBBQAAAAAAAAAAAAAAAAECAAQREhMh/9oACAEBAAEFAnDI1tNPgIOh0MKrP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAMBAQEAAAAAAAAAAAAAAAABMREhIv/aAAgBAQAGPwL2nR866U1moh//xAAcEAEBAQACAwEAAAAAAAAAAAABEQAhYTFBUZH/2gAIAQEAAT8hSWLQntxE5fmyrRHU3ilVpclV5+OW1Q9b/9oADAMBAAIAAwAAABA/3//EABURAQEAAAAAAAAAAAAAAAAAABEA/9oACAEDAQE/EAm//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EK1//8QAHhABAAIBBAMAAAAAAAAAAAAAAQARMSFBUWGhwdH/2gAIAQEAAT8QGLuBo3conNjJbnoJVgu63mGkhQbOPsDurPqi+0tR0T//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Image\"\n        title=\"Image\"\n        src=\"/static/be08900d8694532ac36a4698ff68fef4/1c72d/image1.jpg\"\n        srcset=\"/static/be08900d8694532ac36a4698ff68fef4/a80bd/image1.jpg 148w,\n/static/be08900d8694532ac36a4698ff68fef4/1c91a/image1.jpg 295w,\n/static/be08900d8694532ac36a4698ff68fef4/1c72d/image1.jpg 590w,\n/static/be08900d8694532ac36a4698ff68fef4/a8a14/image1.jpg 885w,\n/static/be08900d8694532ac36a4698ff68fef4/fbd2c/image1.jpg 1180w,\n/static/be08900d8694532ac36a4698ff68fef4/d2602/image1.jpg 4032w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>{: .center-image}</p>\n<p>I have a list of HTML tags in which a few first have a certain class while the others don‘t. What I want to achieve is styling the last element having the class.\nIf you look for a pure CSS solution with no JavaScript and no changes in your HTML, I have some bad news: there is no such. Of course, you shouldn‘t believe me and look for it on your own. But if you happen to find one, please come back and feel free to comment. And if you fail, read on and see if one of the below solutions might suit you.</p>\n<p>The initial case was to add a separator between <code>&#x3C;li></code> tags. This is pretty easy:</p>\n<pre><code class=\"language-css\">li:not(:last-of-type) {\n    border-bottom: 1px solid black;\n}\n</code></pre>\n<p>Now, to make it more complicated, some of the elements are initially hidden and might be turned to visible on a button click. The hidden elements have class <code>hidden</code>. Quite natural for me was to add the class selector and have:</p>\n<pre><code class=\"language-css\">li:not(.hidden):not(:last-of-type) {\n    border-bottom: 1px solid black;\n}\n</code></pre>\n<p>To my surprise, it didn‘t work. I though a selector like <code>li.hidden:last-of-type</code> filters out elements of type <code>li</code> with class <code>hidden</code> and then selects the last of them. It turned out that it actually selects the last element of type <code>li</code> and then checks if it has class <code>hidden</code>. A subtle difference, right?</p>\n<p>The solution to my problem was actually straightforward – adding the top border instead of the bottom one was a way to go. After all, the hidden elements are hidden and so are their borders.</p>\n<pre><code class=\"language-css\">li:not(:first-of-type) {\n    border-top: 1px solid black;\n}\n</code></pre>\n<p>Using adjacent sibling selector is even more readable.</p>\n<pre><code class=\"language-css\">li + li {\n    border-top: 1px solid black;\n}\n</code></pre>\n<p>And this could be the end. I have found a solution to my problem, committed, pushed and deployed. But what if I really needed to style that last element of the class? Is there a way to do that? As already said, no. At least not yet.</p>\n<p>In the <a href=\"https://drafts.csswg.org/selectors-4/#the-nth-child-pseudo\">Selectors Level 4 Editor‘s Draft</a> there is the newest version of nth-child pseudo class described. It introduces an optional clause <code>of S</code> which filters out the children to only the ones matching the <code>S</code> selector. This is only a draft yet and as so shouldn‘t be used in any production code - check <a href=\"https://caniuse.com/#search=nth-child\">caniuse.com</a> for browsers support.\nConfirmed to work in Safari, which already supports it:</p>\n<pre><code class=\"language-css\">li:nth-last-child(1 of li:not(.hidden)){\n    border-top: 1px solid black;\n}\n</code></pre>\n<p>What can we do now? Unfortunately, the answer is: break one of the rules we have previously established.</p>\n<ol>\n<li>Break the \"no changes in HTML\" rule, i.e. divide the elements into two separate lists: one with the elements always visible and one with the hidden ones.</li>\n<li>\n<p>Break the \"no JavaScript\" rule and just use jQuery: </p>\n<pre><code class=\"language-javascript\">$(\"li:not(.hidden):last\").addClass(\"last-not-hidden\")\n</code></pre>\n<p>The nice <code>last</code> selector is jQuery specific and therefore cannot be used in CSS nor in JavaScript.</p>\n</li>\n<li>\n<p>Break the \"no JavaScript\" rule and use pure Javascript:</p>\n<pre><code class=\"language-javascript\">const notHiddens = document.querySelectorAll(\"li:not(.hidden)\");\nconst lastNotHidden = notHiddens[notHiddens.length - 1];\nlastNotHidden.classList.add(\"last-not-hidden\");\n</code></pre>\n<p>This is more verbose than the previous one, however you might not necessarily need jQuery just for a simple DOM manipulation. </p>\n</li>\n</ol>\n<p>OK, to be honest, I have found one „pure CSS solution“, but for me it‘s neither pure nor a solution, just a really strange walk around. <a href=\"https://stackoverflow.com/questions/1817792/is-there-a-previous-sibling-css-selector/36118012#36118012\">Take a look</a>, you might find it at least interesting.</p>\n<p>So this is it. No clear and nice solutions. I‘m lucky that I do not need to have this solved in any real projects, and how about you? How have you handled such a case?</p>","excerpt":"My experience with frontend web development is not long yet, nevertheless, I have already got stuck a few times and spend like a few hours…","frontmatter":{"slug":null,"title":"Simulating nth-of-class CSS selector","description":null,"author":"agnieszka","tags":["css"],"date":"2017-10-16T22:00:00.000Z","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#383838","images":{"fallback":{"src":"/static/be08900d8694532ac36a4698ff68fef4/68a6f/image1.jpg","srcSet":"/static/be08900d8694532ac36a4698ff68fef4/dfcd4/image1.jpg 1008w,\n/static/be08900d8694532ac36a4698ff68fef4/b97c6/image1.jpg 2016w,\n/static/be08900d8694532ac36a4698ff68fef4/68a6f/image1.jpg 4032w","sizes":"(min-width: 4032px) 4032px, 100vw"},"sources":[{"srcSet":"/static/be08900d8694532ac36a4698ff68fef4/80cfb/image1.webp 1008w,\n/static/be08900d8694532ac36a4698ff68fef4/66d80/image1.webp 2016w,\n/static/be08900d8694532ac36a4698ff68fef4/5cc0d/image1.webp 4032w","type":"image/webp","sizes":"(min-width: 4032px) 4032px, 100vw"}]},"width":4032,"height":3024}}}},"timeToRead":3,"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2017-10-17-nth-of-class.md"},"site":{"siteMetadata":{"siteUrl":"https://brightinventions.pl"}}},"pageContext":{"fileAbsolutePath":"/home/runner/work/new-www/new-www/src/mdData/blog/2017-10-17-nth-of-class.md"}},"staticQueryHashes":["2189233960","3181594896"]}